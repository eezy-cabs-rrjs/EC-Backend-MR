<app-header />
<div class="dashboard-container">
     <div class="content-wrapper">
          <!-- Driver Details Section -->
          <section class="card">
               <div class="card-header">
                    <div class="header-content">
                         <h2>Driver Details</h2>
                         <span class="status-badge" [class.status-active]="!isBlocked"
                              [class.status-blocked]="isBlocked">
                              {{isBlocked ? 'Blocked' : 'Active'}}
                         </span>
                    </div>
               </div>

               <div class="card-body">
                    <div class="profile-section">
                         <div class="profile-image" >
                              <img [src]="driverDetails.image || imageUrl" [alt]="driverDetails.name" class="avatar">
                              <div class="image-overlay">
                                   <button class="edit-image-btn" *ngIf="isEditable">
                                        <i class="fas fa-camera"></i>
                                   </button>
                              </div>
                         </div>

                         <div class="form-grid">
                              <div class="form-group">
                                   <label for="driverName">Name</label>
                                   <input type="text" id="driverName" name="driverName" [(ngModel)]="driverDetails.name"
                                        [readonly]="!isEditable" class="form-input" required>
                              </div>

                              <div class="form-group">
                                   <label for="driverEmail">Email</label>
                                   <input type="email" id="driverEmail" name="driverEmail"
                                        [(ngModel)]="driverDetails.email" [readonly]="!isEditable" class="form-input"
                                        required>
                              </div>

                              <div class="form-group">
                                   <label for="driverPhone">Phone Number</label>
                                   <input type="tel" id="driverPhone" name="driverPhone"
                                        [(ngModel)]="driverDetails.phone" [readonly]="!isEditable" class="form-input"
                                        required>
                              </div>
                         </div>
                    </div>
               </div>
          </section>

          <!-- KYC Details Section -->
          <section class="card">
               <div class="card-header">
                    <h2>KYC Details</h2>
               </div>

               <div class="card-body">
                    <form #kycForm="ngForm" class="kyc-form">
                         <div class="form-grid">
                              <div class="form-group">
                                   <label for="driverLicense">Driver License</label>
                                   <input type="text" id="driverLicense" name="driverLicense"
                                        [(ngModel)]="driverDetails.driver_license" [readonly]="!isEditable"
                                        class="form-input" required>
                              </div>

                              <div class="form-group">
                                   <label for="experience">Experience</label>
                                   <input type="text" id="experience" name="experience"
                                        [(ngModel)]="driverDetails.experience" [readonly]="!isEditable"
                                        class="form-input" required>
                              </div>
                         </div>

                         <div class="vehicle-details">
                              <h3>Vehicle Details</h3>
                              <div class="form-grid">
                                   <div class="form-group">
                                        <label for="vehicleNumber">Vehicle Number</label>
                                        <input type="text" id="vehicleNumber" name="vehicleNumber"
                                             [(ngModel)]="vehicleDetails.vehicleNumber" [readonly]="!isEditable"
                                             class="form-input" required>
                                   </div>

                                   <div class="form-group">
                                        <label for="chassisNumber">Chassis Number</label>
                                        <input type="text" id="chassisNumber" name="chassisNumber"
                                             [(ngModel)]="vehicleDetails.chassisNumber" [readonly]="!isEditable"
                                             class="form-input" required>
                                   </div>

                                   <div class="form-group">
                                        <label for="insuranceNumber">Insurance Number</label>
                                        <input type="text" id="insuranceNumber" name="insuranceNumber"
                                             [(ngModel)]="vehicleDetails.insuranceNumber" [readonly]="!isEditable"
                                             class="form-input">
                                   </div>

                                   <div class="form-group">
                                        <label for="insuranceExpiry">Insurance Expiry Date</label>
                                        <div class="date-input-wrapper">
                                             <input type="date" id="insuranceExpiry" name="insuranceExpiry"
                                                  [(ngModel)]="vehicleDetails.insuranceExpiry" [readonly]="!isEditable"
                                                  class="form-input">
                                             <i class="far fa-calendar calendar-icon"></i>
                                        </div>
                                   </div>

                                   <div class="form-group">
                                        <label for="vehicleMake">Vehicle Make</label>
                                        <input type="text" id="vehicleMake" name="vehicleMake"
                                             [(ngModel)]="vehicleDetails.vehicleMake" [readonly]="!isEditable"
                                             class="form-input">
                                   </div>

                                   <div class="form-group">
                                        <label for="vehicleModel">Vehicle Model</label>
                                        <input type="text" id="vehicleModel" name="vehicleModel"
                                             [(ngModel)]="vehicleDetails.vehicleModel" [readonly]="!isEditable"
                                             class="form-input">
                                   </div>

                                   <div class="form-group">
                                        <label for="yearOfManufacture">Year of Manufacture</label>
                                        <input type="number" id="yearOfManufacture" name="yearOfManufacture"
                                             [(ngModel)]="vehicleDetails.yearOfManufacture" [readonly]="!isEditable"
                                             class="form-input">
                                   </div>
                              </div>
                         </div>

                         <div class="action-buttons">
                              <button type="button" [class.btn-block]="!isBlocked" [class.btn-unblock]="isBlocked"
                                   (click)="isBlocked ? unblockDriver() : blockDriver()">
                                   {{isBlocked ? 'Unblock Driver' : 'Block Driver'}}
                              </button>
                              <button type="button" class="btn-reject" (click)="rejectKYC()" >
                                   Reject KYC
                              </button>
                         </div>
                    </form>
               </div>
          </section>
     </div>
</div>